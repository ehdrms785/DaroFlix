{"ast":null,"code":"import _classCallCheck from\"D:\\\\Documents\\\\React\\\\DaroFlix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Documents\\\\React\\\\DaroFlix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:\\\\Documents\\\\React\\\\DaroFlix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"D:\\\\Documents\\\\React\\\\DaroFlix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"D:\\\\Documents\\\\React\\\\DaroFlix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _taggedTemplateLiteral from\"D:\\\\Documents\\\\React\\\\DaroFlix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject9(){var data=_taggedTemplateLiteral([\"\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  position: absolute;\\n  right: -36px;\\n  top: -22px;\\n  z-index: 1;\\n  &:disabled {\\n    color: grey;\\n  }\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  position: absolute;\\n  left: 0;\\n  top: -22px;\\n  z-index: 1;\\n\\n  &:disabled {\\n    color: grey;\\n  }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  display: block;\\n  text-align: center;\\n  font-size: 18px;\\n  font-weight: 600;\\n  margin-top: 8px;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  /* width: 150px;\\n  height: 180px; */\\n  width: 200px;\\n  height: 220px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  transition: all 0.3s linear;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  height: 100%;\\n  /* width:100%; */\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n  transition: transform 500ms cubic-bezier(0.413, 0.03, 0.1, 0.4);\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  height: 290px;\\n  max-width: 160px;\\n  margin: 0 auto;\\n\\n  /* \\uC6D0\\uB798\\uB294 ::after \\uC600\\uB294\\uB370 after \\uD558\\uB2C8\\uAE4C \\uBC84\\uD2BC\\uC601\\uC5ED\\uC744 \\uB36E\\uC5B4\\uC11C \\uC774\\uBBF8\\uC9C0\\uB97C \\uAC00\\uB824\\uBC84\\uB9BC */\\n  &::before {\\n    content: \\\"\\\";\\n    display: block;\\n    width: 100%;\\n    /* height: 175px; */\\n    outline: 5px solid #72a9e3;\\n    position: absolute;\\n    /* top: 56px; */\\n    left: 8px;\\n    /* max-width: 150px; */\\n    width: 200px;\\n    height: 216px;\\n    top: 24px;\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  margin-right: 40px;\\n  text-align: center;\\n  margin-top: 30px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import styled from\"styled-components\";import ModalPortal from\"../ModalPortal\";import CastModal from\"../CastModal\";var BigContainer=styled.div(_templateObject());var Container=styled.div(_templateObject2());var SliderWrapper=styled.div(_templateObject3());var CastContainer=styled.div(_templateObject4(),function(props){return props.index===props.nowTarget?\"opacity:1;transform: scale(1);\":Math.abs(props.nowTarget-props.index)>1?\"opacity:0;\":\"opacity:0.5; transform: scale(0.7);\";});var Cover=styled.img(_templateObject5());var CastName=styled.span(_templateObject6());var PrevButton=styled.button(_templateObject7());var NextButton=styled.button(_templateObject8());var CastButton=styled.button(_templateObject9());var TabCasts=/*#__PURE__*/function(_React$Component){_inherits(TabCasts,_React$Component);var _super=_createSuper(TabCasts);function TabCasts(props){var _this;_classCallCheck(this,TabCasts);_this=_super.call(this,props);_this.nextButton=function(){var newIndex=_this.state.index+1;_this.setState({index:newIndex});};_this.preButton=function(){var newIndex=_this.state.index-1;_this.setState({index:newIndex});};_this.handleModalOpen=function(cast_id){_this.setState({modalOpen:true,cast_id:cast_id});};_this.handleModalClose=function(){_this.setState({modalOpen:false,cast_id:null});};_this.state={index:0,modalOpen:false,cast_id:null};_this.nextButton=_this.nextButton.bind(_assertThisInitialized(_this));_this.preButton=_this.preButton.bind(_assertThisInitialized(_this));_this.handleModalOpen=_this.handleModalOpen.bind(_assertThisInitialized(_this));_this.handleModalClose=_this.handleModalClose.bind(_assertThisInitialized(_this));return _this;}_createClass(TabCasts,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,index=_this$state.index,modalOpen=_this$state.modalOpen,cast_id=_this$state.cast_id;var casts_result=this.props.casts_result;return/*#__PURE__*/React.createElement(BigContainer,null,\" \",/*#__PURE__*/React.createElement(PrevButton,{onClick:function onClick(){return _this2.preButton();},disabled:index===0},\"Prev\"),/*#__PURE__*/React.createElement(NextButton,{onClick:function onClick(){return _this2.nextButton();},disabled:index===casts_result.length-1},\"Next\"),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(SliderWrapper,{style:{transform:\"translateX(-\".concat(this.state.index*(100/casts_result.length),\"%\")}},casts_result&&casts_result.map(function(cast,idx){return/*#__PURE__*/React.createElement(CastContainer,{key:idx,index:idx,nowTarget:index},/*#__PURE__*/React.createElement(CastButton// 클릭한 cast.id 값을 state로 업데이트를 시킨다\n// 그 업데이트 한 값을  CastModal 컴포넌트로 넘긴다\n// 그 cast_id 값을 모달로 넘겨서 그 cast_id값으로 해당 인물디테일 가져온다\n,{onClick:function onClick(){return _this2.handleModalOpen(cast.id);},disabled:idx!==index// idx : map함수의 인수(인덱스) , index : state의 index (현재 포커스 index값)\n},/*#__PURE__*/React.createElement(Cover,{src:cast.profile_path?\"https://image.tmdb.org/t/p/w200\".concat(cast.profile_path):require(\"../../assets/noProfile.png\")}),/*#__PURE__*/React.createElement(CastName,null,cast.name.length<20?cast.name:\"\".concat(cast.name.substring(0,18),\"..\"))));})),modalOpen&&/*#__PURE__*/React.createElement(ModalPortal,null,/*#__PURE__*/React.createElement(CastModal,{cast_id:cast_id,onClose:this.handleModalClose}))));}}]);return TabCasts;}(React.Component);export{TabCasts as default};","map":{"version":3,"sources":["D:/Documents/React/DaroFlix/src/Components/DetailTab/TabCasts.js"],"names":["React","styled","ModalPortal","CastModal","BigContainer","div","Container","SliderWrapper","CastContainer","props","index","nowTarget","Math","abs","Cover","img","CastName","span","PrevButton","button","NextButton","CastButton","TabCasts","nextButton","newIndex","state","setState","preButton","handleModalOpen","cast_id","modalOpen","handleModalClose","bind","casts_result","length","transform","map","cast","idx","id","profile_path","require","name","substring","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport ModalPortal from \"../ModalPortal\";\r\nimport CastModal from \"../CastModal\";\r\n\r\nconst BigContainer = styled.div`\r\n  position: relative;\r\n  margin-right: 40px;\r\n  text-align: center;\r\n  margin-top: 30px;\r\n`;\r\nconst Container = styled.div`\r\n  position: relative;\r\n  height: 290px;\r\n  max-width: 160px;\r\n  margin: 0 auto;\r\n\r\n  /* 원래는 ::after 였는데 after 하니까 버튼영역을 덮어서 이미지를 가려버림 */\r\n  &::before {\r\n    content: \"\";\r\n    display: block;\r\n    width: 100%;\r\n    /* height: 175px; */\r\n    outline: 5px solid #72a9e3;\r\n    position: absolute;\r\n    /* top: 56px; */\r\n    left: 8px;\r\n    /* max-width: 150px; */\r\n    width: 200px;\r\n    height: 216px;\r\n    top: 24px;\r\n  }\r\n`;\r\n\r\nconst SliderWrapper = styled.div`\r\n  height: 100%;\r\n  /* width:100%; */\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  transition: transform 500ms cubic-bezier(0.413, 0.03, 0.1, 0.4);\r\n`;\r\n\r\nconst CastContainer = styled.div`\r\n  ${(props) =>\r\n    props.index === props.nowTarget\r\n      ? \"opacity:1;transform: scale(1);\"\r\n      : Math.abs(props.nowTarget - props.index) > 1\r\n      ? \"opacity:0;\"\r\n      : \"opacity:0.5; transform: scale(0.7);\"}\r\n  transition: all 0.3s linear;\r\n`;\r\n\r\nconst Cover = styled.img`\r\n  /* width: 150px;\r\n  height: 180px; */\r\n  width: 200px;\r\n  height: 220px;\r\n`;\r\nconst CastName = styled.span`\r\n  display: block;\r\n  text-align: center;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  margin-top: 8px;\r\n`;\r\nconst PrevButton = styled.button`\r\n  font-size: 20px;\r\n  position: absolute;\r\n  left: 0;\r\n  top: -22px;\r\n  z-index: 1;\r\n\r\n  &:disabled {\r\n    color: grey;\r\n  }\r\n`;\r\n\r\nconst NextButton = styled.button`\r\n  font-size: 20px;\r\n  position: absolute;\r\n  right: -36px;\r\n  top: -22px;\r\n  z-index: 1;\r\n  &:disabled {\r\n    color: grey;\r\n  }\r\n`;\r\n\r\nconst CastButton = styled.button``;\r\n\r\nexport default class TabCasts extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      index: 0,\r\n      modalOpen: false,\r\n      cast_id: null,\r\n    };\r\n    this.nextButton = this.nextButton.bind(this);\r\n    this.preButton = this.preButton.bind(this);\r\n    this.handleModalOpen = this.handleModalOpen.bind(this);\r\n    this.handleModalClose = this.handleModalClose.bind(this);\r\n  }\r\n  nextButton = () => {\r\n    let newIndex = this.state.index + 1;\r\n    this.setState({ index: newIndex });\r\n  };\r\n  preButton = () => {\r\n    let newIndex = this.state.index - 1;\r\n    this.setState({ index: newIndex });\r\n  };\r\n  handleModalOpen = (cast_id) => {\r\n    this.setState({ modalOpen: true, cast_id: cast_id });\r\n  };\r\n  handleModalClose = () => {\r\n    this.setState({ modalOpen: false, cast_id: null });\r\n  };\r\n  render() {\r\n    const { index, modalOpen, cast_id } = this.state;\r\n    const { casts_result } = this.props;\r\n    return (\r\n      <BigContainer>\r\n        {\" \"}\r\n        <PrevButton onClick={() => this.preButton()} disabled={index === 0}>\r\n          Prev\r\n        </PrevButton>\r\n        <NextButton\r\n          onClick={() => this.nextButton()}\r\n          disabled={index === casts_result.length - 1}\r\n        >\r\n          Next\r\n        </NextButton>\r\n        {/* 이미지를 둘러 싸고 있는 사각박스를 위한 컨테이너 */}\r\n        <Container>\r\n          {/* state.index는 Prev, Next 버튼을 누르면 값이 변한다\r\n          그리고 그 변한 index값을 기준으로 이 SliderWrapper가\r\n           X축을 변경해줌으로써 슬라이딩이 가능해진다 */}\r\n          <SliderWrapper\r\n            style={{\r\n              transform: `translateX(-${\r\n                this.state.index * (100 / casts_result.length)\r\n              }%`,\r\n            }}\r\n          >\r\n            {casts_result &&\r\n              casts_result.map((cast, idx) => (\r\n                <CastContainer key={idx} index={idx} nowTarget={index}>\r\n                  <CastButton\r\n                    // 클릭한 cast.id 값을 state로 업데이트를 시킨다\r\n                    // 그 업데이트 한 값을  CastModal 컴포넌트로 넘긴다\r\n                    // 그 cast_id 값을 모달로 넘겨서 그 cast_id값으로 해당 인물디테일 가져온다\r\n                    onClick={() => this.handleModalOpen(cast.id)}\r\n                    disabled={idx !== index}\r\n                    // idx : map함수의 인수(인덱스) , index : state의 index (현재 포커스 index값)\r\n                  >\r\n                    <Cover\r\n                      src={\r\n                        cast.profile_path\r\n                          ? `https://image.tmdb.org/t/p/w200${cast.profile_path}`\r\n                          : require(\"../../assets/noProfile.png\")\r\n                      }\r\n                    ></Cover>\r\n\r\n                    <CastName>\r\n                      {cast.name.length < 20\r\n                        ? cast.name\r\n                        : `${cast.name.substring(0, 18)}..`}\r\n                    </CastName>\r\n                  </CastButton>\r\n                </CastContainer>\r\n              ))}\r\n          </SliderWrapper>\r\n          {modalOpen && (\r\n            <ModalPortal>\r\n              <CastModal cast_id={cast_id} onClose={this.handleModalClose} />\r\n            </ModalPortal>\r\n          )}\r\n        </Container>\r\n      </BigContainer>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}